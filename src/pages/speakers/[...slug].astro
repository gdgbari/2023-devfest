---
import { CollectionEntry, getCollection } from "astro:content";
import Footer from "../../components/Common/Footer.astro";
import Navbar from "../../components/Common/Navbar.astro";
import PageHead from "../../components/Common/PageHead.astro";
// 1. Generate a new path for every collection entry

interface Props {
  entry: CollectionEntry<"speakers">;
}

export async function getStaticPaths() {
  const speakerEntries = await getCollection("speakers");
  return speakerEntries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

// 2. When it's time to render, you can get the entry directly from the prop
const { entry } = Astro.props;
const { Content } = await entry.render();
---

<!-- Below is your "component template." It's just HTML, but with
     some magic sprinkled in to help you build great templates. -->
<html lang="it" class="scroll-smooth">
  <PageHead />

  <body class="flex flex-col min-h-screen">
    <Navbar />

    <main
      id="swup"
      class="main-content transition-fade flex flex-col max-w-6xl m-auto px-4 flex-1"
      data-swup="0"
    >
      <div class="flex flex-col justify-center h-32 mt-32">
        <h1 class="text-6xl mb-10 font-bold">Speakers</h1>
      </div>

      <div class="flex flex-col">
        <h2 class="text-4xl mb-3">{entry.data.name}</h2>
        <Content />
      </div>
    </main>
    <Footer />
  </body>
</html>
