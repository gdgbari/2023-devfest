---
// Welcome to Astro! Everything between these triple-dash code fences

import { getCollection } from "astro:content";
import Footer from "../components/Common/Footer.astro";
import Navbar from "../components/Common/Navbar.astro";
import PageHead from "../components/Common/PageHead.astro";
import CallToAction from "../components/Home/CallToAction.astro";
import Gallery from "../components/Home/Gallery.astro";
import InfoContainer from "../components/Home/InfoContainer.astro";
import JoinDiscord from "../components/Home/JoinDiscord.astro";
import Jumbo from "../components/Home/Jumbo.astro";
import LastYearRecap from "../components/Home/LastYearRecap.astro";

const ctas = await getCollection("call_to_actions");
---

<!-- Below is your "component template." It's just HTML, but with
     some magic sprinkled in to help you build great templates. -->
<html lang="it" class="scroll-smooth flex flex-col min-h-screen">
  <PageHead />

  <body class="flex flex-col flex-1">
    <Navbar transparentMode={true} />

    <main
      id="swup"
      class="main-content transition-fade flex flex-col"
      data-swup="0"
    >
      <Jumbo />

      <InfoContainer />

      <LastYearRecap />

      <Gallery />

      {
        ctas.sort((a,b) => a.data.order - b.data.order).map((cta) => (
        <CallToAction
            slug={cta.slug}
              title={cta.data.title}
              url={cta.data.url}
              description={cta.body}
              button={cta.data.buttonText}
            />
        ))
      }

      <div class="mb-6" />

      <JoinDiscord />
    </main>

    <Footer />
  </body>
</html>
